////////////////////////////////////////////////////////////////////////////////////
//	Operations on migrated key store
////////////////////////////////////////////////////////////////////////////////////


<action>
	<actionname>Opening key store in manager mode</actionname>
	<actiontype>init</actiontype>
	<actionbody>
		<mode>manager</mode>
	</actionbody>
	<actionresult>
		<return>KErrNone</return>
	</actionresult>
</action>


<action>
   	<actionname>List all keys</actionname>
 	<actiontype>listallkeys</actiontype>
   	<actionbody>
   		<foundkey>dhkey</foundkey>
		<foundkey>rsakey</foundkey>
		<foundkey>dsakey</foundkey>
   	</actionbody>
   	<actionresult>
   		<return>KErrNone</return>
   	</actionresult>
</action>

<action>
	<actionname>Open a DH key</actionname>
	<actiontype>open</actiontype>
	<actionbody>
		<keylabel>dhkey</keylabel>
		<open>DH</open>
	</actionbody>
	<actionresult>
		<return>KErrNone</return>
	</actionresult>
</action>

<action>
	<actionname>derive for dhkey</actionname>
	<actiontype>derive</actiontype>
	<actionbody>
		<keylabel>dhkey</keylabel>
		<n>DA9A18547FF03B385CC16508C173A7EF4EB61CB40EF8FEF3B31F145051676166BCDC3FE6B799FC394D08C26385F9413F896E09117E46209D6923602683CEA100924A6EE695281775C619DAA94EA8CB3691B4275B0183F1D39639EBC92995FE645D6C1BC28D409E585549BBD2C5DCDD6C208B04EADD8B7A6D997F72CBAD88390F</n>
		<g>02</g>
		
		
		
	</actionbody>
	<actionresult>
		<return>KErrNone</return>
	</actionresult>
</action>

<action>
	<actionname>Sign with RSA key</actionname>
	<actiontype>sign</actiontype>
	<actionbody>
		<keylabel>rsakey</keylabel>
		<open>RSA</open>
		<text>This is text of 20 .</text>
		
	</actionbody>
	<actionresult>
		<return>KErrNone</return>
	</actionresult>
</action>

<action>
	<actionname>Decrypt with RSA key</actionname>
	<actiontype>decrypt</actiontype>
	<actionbody>
		<keylabel>rsakey</keylabel>
		<text>Ook!</text>
		
	</actionbody>
	<actionresult>
		<return>KErrNone</return>
	</actionresult>
</action>

<action>
	<actionname>Sign with DSA key</actionname>
	<actiontype>sign</actiontype>
	<actionbody>
		<keylabel>dsakey</keylabel>
		<open>DSA</open>
		<text>This is text of 20 .</text>
		
	</actionbody>
	<actionresult>
		<return>KErrNone</return>
	</actionresult>
</action>

<action>
	<actionname>Closing key store</actionname>
	<actiontype>delete</actiontype>
	<actionbody></actionbody>
	<actionresult>
		<return>KErrNone</return>
	</actionresult>
</action>

<action>
	<actionname>Sleep 5 seconds</actionname>
	<actiontype>sleep</actiontype>
	<actionbody>
          <seconds>5</seconds>
        </actionbody>
	<actionresult>
		<return>KErrNone</return>
	</actionresult>
</action>

<action>
	<actionname>Check for server heap error</actionname>
	<actiontype>checkserverheaperror</actiontype>
	<actionbody>
    </actionbody>
	<actionresult>
		<return>KErrNone</return>
	</actionresult>
</action>




